{{page-title 'Dating App'}}
<h1>Dating App</h1>

<ul class="nav nav-tabs" role="tablist">
  <li class="nav-item"><a data-bs-toggle="tab" class="nav-link active" href="#swiping">Swiping</a></li>
  <li class="nav-item"><a data-bs-toggle="tab" class="nav-link" href="#matches">Matches</a></li>
  <li class="nav-item"><a data-bs-toggle="tab" class="nav-link" href="#swipes">Swipes</a></li>
  <li class="nav-item"><a data-bs-toggle="tab" class="nav-link" href="#missed">Missed Connections</a></li>
</ul>

<div class="tab-content">
  <div id="swiping" class="tab-pane fade show active">
    <div class="jumbotron">
    {{#if this.model.profile}}
      {{#if this.model.profile.profile_image.name}}
      <img src="/game/uploads/{{this.model.profile.profile_image.path}}" alt="{{this.model.profile.name}}'s icon"  class="profile-image" title="{{this.model.profile.profile_image.description}}">
      {{else}}
      <img src="/game/uploads/theme_images/noicon.png" class="profile-image" alt="{{this.model.profile.name}}'s icon" >
      {{/if}}
      <LinkTo @route="char" @model={{this.model.profile.name}}>
        <h2>{{this.model.profile.name}}</h2>
      </LinkTo>
      <p>{{this.model.profile.dateprof}}</p>

      <div>
        <button {{action "swipe" this.model.profile.name "interested"}} class="btn btn-secondary">Interested</button>
        <button {{action "swipe" this.model.profile.name "curious"}} class="btn btn-secondary">Curious</button>
        <button {{action "swipe" this.model.profile.name "skip"}} class="btn btn-secondary">Skip</button>
      </div>
    {{else}}
      <p>You have nobody left to swipe!</p>
    {{/if}}
    </div>
  </div>

  <div id="matches" class="tab-pane fade show">
    {{#each this.model.matches as |list|}}
    <h2>{{list.name}}</h2>
    <CharGroupList @name="" @chars={{list.characters}} />
    {{/each}}
  </div>

  <div id="swipes" class="tab-pane fade show">
    {{#each this.model.swipes as |list|}}
    <h2>{{list.name}}</h2>
    <CharGroupList @name="" @chars={{list.characters}} />
    {{/each}}
  </div>

  <div id="missed" class="tab-pane fade show">
    <CharGroupList @name="" @chars={{this.model.missed}} />
  </div>
</div>
